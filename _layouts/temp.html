
<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />


  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Arima+Madurai" rel="stylesheet">
  <title>Measuring Polyphony</title>
  <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search resu...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/">
  <link rel="alternate" type="application/rss+xml" title="Test title" href="/feed.xml">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="http://www.verovio.org/javascript/latest/verovio-toolkit.js"></script>
  <!-- We also use jQuery -->
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript" ></script>
  <!-- Basic events from example 02 -->
  <script src="javascript/basic-events.js" type="text/javascript" ></script>
  <script type="text/javascript" language="javascript" src="javascript/midi-player/wildwebmidi.js"></script>
<script type="text/javascript" language="javascript" src="javascript/midi-player/midiplayer.js"></script>
<link rel="stylesheet" href="css/midiplayer.css" />
  <!-- A stylesheet for the help overlay -->
  <link rel="stylesheet" href="css/tutorial.css" />
</head>

<body>

    <header class="site-header" role="banner">

  <div class="wrapper">


    <a class="site-title" href="/">Measuring Polyphony </a>


      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">


<script>

    </script>








        </div>
      </nav>

  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home">
      Title: <div id="title"> </div>
      Composer: <div id="composer"> </div>
      <div id="player"> </div>
      <script type="text/javascript">
  var qs = parent.document.URL.substring(parent.document.URL.indexOf('?')+1, parent.document.URL.length);
          /* Load the file using HTTP GET */
          $.get( qs, function( dataType ) {
          //  alert( "Data Loaded: " + dataType );
            xmlDoc = $.parseXML( dataType ),
            $xml = $( xmlDoc ),
            $title = $xml.find( "title" );
              $composer = $xml.find( "composer" );
              $("#title").html($title.text());
                $("#composer").html($composer.text());
          }, 'text');
      </script>

<script>
function play_midi() {
if (isPlaying == false) {
  var base64midi = vrvToolkit.renderToMidi();
  var song = 'data:audio/midi;base64,' + base64midi;
  $("#player").show();
  $("#player").midiPlayer.play(song);
  isPlaying = true;
}
}
</script>
<script type="text/javascript">
var qs = parent.document.URL.substring(parent.document.URL.indexOf('?')+1, parent.document.URL.length);
    /* Load the file using HTTP GET */
    $.get( qs, function( dataType ) {
    //  alert( "Data Loaded: " + dataType );
      xmlDoc = $.parseXML( dataType ),
      $xml = $( xmlDoc ),
      $copmoser = $xml.find( "title" );

    }, 'text');
</script>
<div id="svg_output"/>

        <script type="text/javascript">

            ///////////////////////////
            /* Some global variables */
            ///////////////////////////
            var vrvToolkit = new verovio.toolkit();
            var zoom = 30;
            var pageHeight = 2970;
            var pageWidth = 2100;

            ///////////////////////////////////////////////////
            /* A function for setting options to the toolkit */
            ///////////////////////////////////////////////////
            function setOptions() {
                //////////////////////////////////////////////////////////////
                /* Adjust the height and width according to the window size */
                //////////////////////////////////////////////////////////////
                pageHeight = $(document).height() * 100 / zoom ;
                pageWidth = $(window).width() * 100 / zoom ;
                options = {
                            pageHeight: pageHeight,
                            pageWidth: pageWidth,
                            scale: zoom,
                            adjustPageHeight: 1,
                            ignoreLayout: 1
                        };
                vrvToolkit.setOptions(options);
            }

            ////////////////////////////////////////////////////////////////////////////////
            /* A function that sets the options, loads the data and render the first page */
            ////////////////////////////////////////////////////////////////////////////////
            function loadData(data) {
                setOptions();
                vrvToolkit.loadData(data);
                svg = vrvToolkit.renderPage(1, {});
                $("#svg_output").html(svg);
            }

            $(document).ready(function() {
                var file = parent.document.URL.substring(parent.document.URL.indexOf('?')+1, parent.document.URL.length);;
                $.ajax({
                    url: file
                    , dataType: "text"
                    , success: function(data) {
                        loadData(data);
                    }
                });
            });
        </script>



  </div>

</footer>


  </body>
</html>
