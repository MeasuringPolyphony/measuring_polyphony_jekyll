
<!doctype html>
    <html lang="en">
        <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Measuring Polyphony Demo Page</title>
              <link href="favicon.ico" rel="icon" type="image/x-icon" />
            <link rel="stylesheet" href="https://ddmal.github.io/diva.js/try/css/diva.min.css" />
            <link rel="stylesheet" href="https://ddmal.github.io/diva.js/try/demo/demo.css" />
            <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
            <![endif]-->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
            <script src="https://ddmal.github.io/diva.js/try/js/diva.min.js" type="text/javascript"></script>
            <style>
            #menu {
                margin: 0 auto;
                font-size: 1.5em;
            }
            </style>
            <script type="text/javascript">
                $(document).ready(function()
                {
                    if (window.location.protocol === "https:")
                    {
                        var httpUrl = (window.location + '').replace(/^https/, 'http');

                        $('#menu').after(
                                '<div style="max-width: 500px;margin:auto;padding:10px;">' +
                                'You are viewing this page through an HTTPS connection. ' +
                                'Some of the external manifests will not be displayed ' +
                                'correctly. ' +
                                '<a href="' + httpUrl + '" style="font-weight: 700;">Switch to HTTP.</a>' +
                                '</div>'
                        );
                    }
                    var pagenum = parent.document.URL.substring(parent.document.URL.indexOf('?') + 1, parent.document.URL.length);
                    $('#diva-wrapper').diva({
                      enableAutoHeight: true,
                      fixedHeightGrid: false,
                      iipServerURL: "https://diva.simssa.ca/fcgi-bin/iipsrv.fcgi",
                      objectData: "https://ekoshelev.github.io/mpol_manifest/manifest.json",
                      enableCanvas: true,
                      enableDownload: true,
                      goDirectlyTo: pagenum
                    });

                    var selectObject = $('#object-select');
                    var diva = $('#diva-wrapper').data('diva');
                    selectObject.on('change', function()
                    {
                        diva.changeObject(selectObject.val());
                    });

                    $('#orientation').on('click', function()
                    {
                        diva.toggleOrientation();
                    })
                });
            </script>
        </head>
        <body>
            <div id="diva-wrapper" height=500 width=500></div>
        </body>
    </html>
